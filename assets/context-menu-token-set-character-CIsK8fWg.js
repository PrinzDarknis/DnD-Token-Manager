import{O as s}from"./index-DS2GFAHn.js";import{r,j as a,c as n}from"./sound-board-CGmrAhx2.js";class i extends r.Component{constructor(e){super(e),this.state={chars:[],selected:void 0}}async componentDidMount(){const e=await s.character.loadAll();await this.setChars(Object.values(e)),await s.character.registerOnUpdate(void 0,async c=>await this.setChars(c),void 0);const t=await s.character.getSelectedTokenCharacterId();await this.setSelected(t)}async setStatePromise(e){return new Promise(t=>this.setState(e,t))}get chars(){return this.state.chars}async setChars(e){await this.setState({...this.state,chars:e})}get selected(){return this.state.selected}async setSelected(e){await this.setState({...this.state,selected:e})}async onChange(e){e.stopPropagation();const t=e.target.value;await s.character.setSelectedTokenCharacterId(t)}render(){const e=Math.random();return a.jsx(a.Fragment,{children:a.jsxs("select",{name:"character-select",id:"character-select",className:"character-select",defaultValue:this.selected,onChange:t=>this.onChange(t),children:[a.jsx("option",{value:void 0}),this.chars.map(t=>a.jsx("option",{value:t.id,children:t.name},`${e}-option-${t.id}`))]},e)})}}n.createRoot(document.getElementById("root")).render(a.jsx(r.StrictMode,{children:a.jsx(i,{})}));
